<form
  [formGroup]="form"
  (ngSubmit)="submitForm()"
>
  <mat-form-field class="d-block">
    <mat-label>Adres E-mail</mat-label>
    <input
      [formControlName]="formNames.email"
      [maxLength]="maxEmailLength"
      matInput
      type="email"
    />
    <mat-hint align="start">
      @if (form.get(formNames.email)?.invalid && form.get(formNames.email)?.touched) {
        <shared-errors-container
          [errors]="errors.email"
          [input]="form.get(formNames.email)"
        ></shared-errors-container>
      }
    </mat-hint>
    <mat-hint align="end">{{ emailLength() }} / {{ maxEmailLength }}</mat-hint>
  </mat-form-field>

  <mat-form-field class="d-block">
    <mat-label>Hasło</mat-label>
    <input
      [formControlName]="formNames.password"
      [maxLength]="maxPasswordLength"
      matInput
      type="password"
    />
    <mat-hint align="start">
      @if (form.get(formNames.password)?.invalid && form.get(formNames.password)?.touched) {
        <shared-errors-container
          [errors]="errors.password"
          [input]="form.get(formNames.password)"
        ></shared-errors-container>
      }
    </mat-hint>
    <mat-hint align="end">{{ passwordLength() }} / {{ maxPasswordLength }}</mat-hint>
  </mat-form-field>

  <mat-form-field class="d-block">
    <mat-label>Powtórz hasło</mat-label>
    <input
      [formControlName]="formNames.passwordRepeat"
      [maxLength]="maxPasswordLength"
      matInput
      type="password"
    />
    <mat-hint align="start">
      @if (form.get(formNames.passwordRepeat)?.invalid && form.get(formNames.passwordRepeat)?.touched) {
        <shared-errors-container
          [errors]="errors.passwordRepeat"
          [input]="form.get(formNames.passwordRepeat)"
        ></shared-errors-container>
      }
    </mat-hint>
    <mat-hint align="end">{{ repeatPasswordLength() }} / {{ maxPasswordLength }}</mat-hint>
  </mat-form-field>

  @if (errorMessage() !== '') {
    <mat-hint class="d-block pb-1">
      {{ errorMessage() }}
    </mat-hint>
  }
  <button
    class="glassmorphism-button w-100 mt-1"
    mat-button
    type="submit"
  >
    Zarejestruj
  </button>
  <button
    class="glassmorphism-button w-100 mt-2"
    [routerLink]="[loginPath]"
    mat-button
    type="button"
  >
    Masz już konto? Zaloguj się
  </button>
</form>
